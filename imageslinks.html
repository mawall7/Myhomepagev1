<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
        h1{
          
            color:burlywood;
        }
        #start{
            text-align: center;
            color: blue;
            font-family: Arial, Helvetica, sans-serif
        }
        
    </style>
</head>
<body>
    
    <h1 id="start">Här är lite exempel på gratisbilder från <a href="https://pixabay.com/sv/">pixabay</a>,
         <a href="http://www.unsplash.com">unsplash.com</a> <br> och <a href="http://www.adigitaldreamer.com/gallery/">adigitaldreamer.com </a>som är fria att använda för kommersiellt bruk med lite olika kvalité.  
         <a href="index.html">&#8592;Tillbaks till huvudsidan</a>
         <br>
            <a href=""></a>
    </h1>
    <p></p>
    <br>
    
    <div id="images" style="clear: both; text-align: center;">
          </div>
    <a href="#start">&lt;&nbsp;Tillbaka till första bilden </a>

    
    
</body>
<script>     
      
      
       
    var imList=["http://www.adigitaldreamer.com/gallery/albums/userpics/10001/normal_sunset-clouds1~0.jpg", "https://cdn.pixabay.com/photo/2016/12/27/21/03/lone-tree-1934897_960_720.jpg","https://cdn.pixabay.com/photo/2018/04/20/01/32/lynx-3334869_960_720.jpg","https://cdn.pixabay.com/photo/2018/03/25/09/57/cute-3258931__340.jpg", "https://cdn.pixabay.com/photo/2016/01/20/13/28/woman-1151562__340.jpg","https://images.unsplash.com/photo-1506782081254-09bcfd996fd6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=334&q=80"];
   
    AllimgLoop();

  
  
  function AllimgLoop(){
  
    for (let index = 0; index < imList.length; index++) {
          
          var x = imList[index];
          
          if(imgIscomplete(x)){
              
              let imgl =document.createElement('img');
              imgl.src = x;
              
              
              imgl.style.height ="auto";
              imgl.style.width = "100%";
              document.getElementById('images').appendChild(imgl);
              }
              else continue
        }
      }
        
      
      //returnerar complete state som bool för ett bild element x obs complete måste köras på imgelementet inte img src url
       function imgIscomplete(x){
          let img1 =document.createElement('img');
          img1.src = x;
         
         
          //let imIsFound = false;
          return img1.complete && img1.naturalHeight!== 0;  
          }    

    
   // window.location.hash ='loaded';
    //error log bilderna laddades inte 
    //kolla onerror för varje bild istället? för funktionen nedan? och ladda om sidan ifall det blir requesttimeout från servern.
   //refresh page körs bara en gång genom att sätta hash på window.location objektet till #loaded kunde också ha satt det med location.hash('loaded'); 
     window.onload = function() {
 	     if(!window.location.hash) {
		   window.location = window.location + '#loaded';
		    window.location.reload();
	}
}

     
  </script>

</html>
